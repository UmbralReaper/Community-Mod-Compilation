{
  "id": "TALK_DMBB_ORB_command_endwave",
  "type": "talk_topic",
  "responses": [
    {
      "text": "[FINISH] Special Wave - Swarmer Swarm 1",
      "topic": "TALK_DONE",
      "condition": {
        "and": [
          { "u_has_var": "dmbb_orb", "type": "specsecroswa1", "context": "in_combat", "value": "yes" },
          { "not": { "u_has_var": "dmbb_orb", "type": "specsecroswa1", "context": "finish", "value": "yes" } }
        ]
      },
      "effect": [
        { "mapgen_update": "dmbb_orb_arenacolor_remove", "om_terrain": "dmbb_arena_1", "om_special": "DMBB Arena" },
        { "mapgen_update": "dmbb_orb_arenacolor_remove", "om_terrain": "dmbb_arena_2", "om_special": "DMBB Arena" },
        { "mapgen_update": "dmbb_orb_arenacolor_remove", "om_terrain": "dmbb_arena_3", "om_special": "DMBB Arena" },
        { "mapgen_update": "dmbb_orb_arenacolor_remove", "om_terrain": "dmbb_arena_4", "om_special": "DMBB Arena" },
        { "mapgen_update": "dmbb_orb_arenacolor_remove", "om_terrain": "dmbb_arena_5", "om_special": "DMBB Arena" },
        { "mapgen_update": "dmbb_orb_arenacolor_remove", "om_terrain": "dmbb_arena_6", "om_special": "DMBB Arena" },
        { "mapgen_update": "dmbb_orb_arenacolor_remove", "om_terrain": "dmbb_arena_7", "om_special": "DMBB Arena" },
        { "mapgen_update": "dmbb_orb_arenacolor_remove", "om_terrain": "dmbb_arena_8", "om_special": "DMBB Arena" },
        { "mapgen_update": "dmbb_orb_arenacolor_remove", "om_terrain": "dmbb_arena_9", "om_special": "DMBB Arena" },
        { "u_buy_item": "dmbb_essence", "count": 50 },
        { "u_lose_var": "dmbb_orb", "type": "general", "context": "in_combat", "value": "yes" },
        { "u_add_var": "dmbb_orb", "type": "specsecroswa1", "context": "finish", "value": "yes" }
      ]
    },
    {
      "text": "[FINISH] Special Wave - Saddlers 1",
      "topic": "TALK_DONE",
      "condition": {
        "and": [
          { "u_has_var": "dmbb_orb", "type": "specsecrosad1", "context": "in_combat", "value": "yes" },
          { "not": { "u_has_var": "dmbb_orb", "type": "specsecrosad1", "context": "finish", "value": "yes" } }
        ]
      },
      "effect": [
        { "mapgen_update": "dmbb_orb_arenacolor_remove", "om_terrain": "dmbb_arena_1", "om_special": "DMBB Arena" },
        { "mapgen_update": "dmbb_orb_arenacolor_remove", "om_terrain": "dmbb_arena_2", "om_special": "DMBB Arena" },
        { "mapgen_update": "dmbb_orb_arenacolor_remove", "om_terrain": "dmbb_arena_3", "om_special": "DMBB Arena" },
        { "mapgen_update": "dmbb_orb_arenacolor_remove", "om_terrain": "dmbb_arena_4", "om_special": "DMBB Arena" },
        { "mapgen_update": "dmbb_orb_arenacolor_remove", "om_terrain": "dmbb_arena_5", "om_special": "DMBB Arena" },
        { "mapgen_update": "dmbb_orb_arenacolor_remove", "om_terrain": "dmbb_arena_6", "om_special": "DMBB Arena" },
        { "mapgen_update": "dmbb_orb_arenacolor_remove", "om_terrain": "dmbb_arena_7", "om_special": "DMBB Arena" },
        { "mapgen_update": "dmbb_orb_arenacolor_remove", "om_terrain": "dmbb_arena_8", "om_special": "DMBB Arena" },
        { "mapgen_update": "dmbb_orb_arenacolor_remove", "om_terrain": "dmbb_arena_9", "om_special": "DMBB Arena" },
        { "u_buy_item": "dmbb_essence", "count": 75 },
        { "u_lose_var": "dmbb_orb", "type": "general", "context": "in_combat", "value": "yes" },
        { "u_add_var": "dmbb_orb", "type": "specsecrosad1", "context": "finish", "value": "yes" }
      ]
    },
    {
      "text": "[FINISH] Special Wave - SP Specimens 1",
      "topic": "TALK_DONE",
      "condition": {
        "and": [
          { "u_has_var": "dmbb_orb", "type": "specsecrofbs1", "context": "in_combat", "value": "yes" },
          { "not": { "u_has_var": "dmbb_orb", "type": "specsecrofbs1", "context": "finish", "value": "yes" } }
        ]
      },
      "effect": [
        { "mapgen_update": "dmbb_orb_arenacolor_remove", "om_terrain": "dmbb_arena_1", "om_special": "DMBB Arena" },
        { "mapgen_update": "dmbb_orb_arenacolor_remove", "om_terrain": "dmbb_arena_2", "om_special": "DMBB Arena" },
        { "mapgen_update": "dmbb_orb_arenacolor_remove", "om_terrain": "dmbb_arena_3", "om_special": "DMBB Arena" },
        { "mapgen_update": "dmbb_orb_arenacolor_remove", "om_terrain": "dmbb_arena_4", "om_special": "DMBB Arena" },
        { "mapgen_update": "dmbb_orb_arenacolor_remove", "om_terrain": "dmbb_arena_5", "om_special": "DMBB Arena" },
        { "mapgen_update": "dmbb_orb_arenacolor_remove", "om_terrain": "dmbb_arena_6", "om_special": "DMBB Arena" },
        { "mapgen_update": "dmbb_orb_arenacolor_remove", "om_terrain": "dmbb_arena_7", "om_special": "DMBB Arena" },
        { "mapgen_update": "dmbb_orb_arenacolor_remove", "om_terrain": "dmbb_arena_8", "om_special": "DMBB Arena" },
        { "mapgen_update": "dmbb_orb_arenacolor_remove", "om_terrain": "dmbb_arena_9", "om_special": "DMBB Arena" },
        { "u_buy_item": "dmbb_essence", "count": 100 },
        { "u_lose_var": "dmbb_orb", "type": "general", "context": "in_combat", "value": "yes" },
        { "u_add_var": "dmbb_orb", "type": "specsecrofbs1", "context": "finish", "value": "yes" }
      ]
    },
    {
      "text": "[FINISH] Special Wave - Carrions' Feast 1",
      "topic": "TALK_DONE",
      "condition": {
        "and": [
          { "u_has_var": "dmbb_orb", "type": "specsecrocar1", "context": "in_combat", "value": "yes" },
          { "not": { "u_has_var": "dmbb_orb", "type": "specsecrocar1", "context": "finish", "value": "yes" } }
        ]
      },
      "effect": [
        { "mapgen_update": "dmbb_orb_arenacolor_remove", "om_terrain": "dmbb_arena_1", "om_special": "DMBB Arena" },
        { "mapgen_update": "dmbb_orb_arenacolor_remove", "om_terrain": "dmbb_arena_2", "om_special": "DMBB Arena" },
        { "mapgen_update": "dmbb_orb_arenacolor_remove", "om_terrain": "dmbb_arena_3", "om_special": "DMBB Arena" },
        { "mapgen_update": "dmbb_orb_arenacolor_remove", "om_terrain": "dmbb_arena_4", "om_special": "DMBB Arena" },
        { "mapgen_update": "dmbb_orb_arenacolor_remove", "om_terrain": "dmbb_arena_5", "om_special": "DMBB Arena" },
        { "mapgen_update": "dmbb_orb_arenacolor_remove", "om_terrain": "dmbb_arena_6", "om_special": "DMBB Arena" },
        { "mapgen_update": "dmbb_orb_arenacolor_remove", "om_terrain": "dmbb_arena_7", "om_special": "DMBB Arena" },
        { "mapgen_update": "dmbb_orb_arenacolor_remove", "om_terrain": "dmbb_arena_8", "om_special": "DMBB Arena" },
        { "mapgen_update": "dmbb_orb_arenacolor_remove", "om_terrain": "dmbb_arena_9", "om_special": "DMBB Arena" },
        { "u_buy_item": "dmbb_essence", "count": 125 },
        { "u_lose_var": "dmbb_orb", "type": "general", "context": "in_combat", "value": "yes" },
        { "u_add_var": "dmbb_orb", "type": "specsecrocar1", "context": "finish", "value": "yes" }
      ]
    },
    {
      "text": "[FINISH] Special Wave - Stardusts 1",
      "topic": "TALK_DONE",
      "condition": {
        "and": [
          { "u_has_var": "dmbb_orb", "type": "specsecrovec1", "context": "in_combat", "value": "yes" },
          { "not": { "u_has_var": "dmbb_orb", "type": "specsecrovec1", "context": "finish", "value": "yes" } }
        ]
      },
      "effect": [
        { "mapgen_update": "dmbb_orb_arenacolor_remove", "om_terrain": "dmbb_arena_1", "om_special": "DMBB Arena" },
        { "mapgen_update": "dmbb_orb_arenacolor_remove", "om_terrain": "dmbb_arena_2", "om_special": "DMBB Arena" },
        { "mapgen_update": "dmbb_orb_arenacolor_remove", "om_terrain": "dmbb_arena_3", "om_special": "DMBB Arena" },
        { "mapgen_update": "dmbb_orb_arenacolor_remove", "om_terrain": "dmbb_arena_4", "om_special": "DMBB Arena" },
        { "mapgen_update": "dmbb_orb_arenacolor_remove", "om_terrain": "dmbb_arena_5", "om_special": "DMBB Arena" },
        { "mapgen_update": "dmbb_orb_arenacolor_remove", "om_terrain": "dmbb_arena_6", "om_special": "DMBB Arena" },
        { "mapgen_update": "dmbb_orb_arenacolor_remove", "om_terrain": "dmbb_arena_7", "om_special": "DMBB Arena" },
        { "mapgen_update": "dmbb_orb_arenacolor_remove", "om_terrain": "dmbb_arena_8", "om_special": "DMBB Arena" },
        { "mapgen_update": "dmbb_orb_arenacolor_remove", "om_terrain": "dmbb_arena_9", "om_special": "DMBB Arena" },
        { "u_buy_item": "dmbb_essence", "count": 125 },
        { "u_lose_var": "dmbb_orb", "type": "general", "context": "in_combat", "value": "yes" },
        { "u_add_var": "dmbb_orb", "type": "specsecrovec1", "context": "finish", "value": "yes" }
      ]
    },
    {
      "text": "[FINISH] Special Wave - SP Enigma Specimens 1",
      "topic": "TALK_DONE",
      "condition": {
        "and": [
          { "u_has_var": "dmbb_orb", "type": "specsecroeni1", "context": "in_combat", "value": "yes" },
          { "not": { "u_has_var": "dmbb_orb", "type": "specsecroeni1", "context": "finish", "value": "yes" } }
        ]
      },
      "effect": [
        { "mapgen_update": "dmbb_orb_arenacolor_remove", "om_terrain": "dmbb_arena_1", "om_special": "DMBB Arena" },
        { "mapgen_update": "dmbb_orb_arenacolor_remove", "om_terrain": "dmbb_arena_2", "om_special": "DMBB Arena" },
        { "mapgen_update": "dmbb_orb_arenacolor_remove", "om_terrain": "dmbb_arena_3", "om_special": "DMBB Arena" },
        { "mapgen_update": "dmbb_orb_arenacolor_remove", "om_terrain": "dmbb_arena_4", "om_special": "DMBB Arena" },
        { "mapgen_update": "dmbb_orb_arenacolor_remove", "om_terrain": "dmbb_arena_5", "om_special": "DMBB Arena" },
        { "mapgen_update": "dmbb_orb_arenacolor_remove", "om_terrain": "dmbb_arena_6", "om_special": "DMBB Arena" },
        { "mapgen_update": "dmbb_orb_arenacolor_remove", "om_terrain": "dmbb_arena_7", "om_special": "DMBB Arena" },
        { "mapgen_update": "dmbb_orb_arenacolor_remove", "om_terrain": "dmbb_arena_8", "om_special": "DMBB Arena" },
        { "mapgen_update": "dmbb_orb_arenacolor_remove", "om_terrain": "dmbb_arena_9", "om_special": "DMBB Arena" },
        { "u_buy_item": "dmbb_essence", "count": 175 },
        { "u_lose_var": "dmbb_orb", "type": "general", "context": "in_combat", "value": "yes" },
        { "u_add_var": "dmbb_orb", "type": "specsecroeni1", "context": "finish", "value": "yes" }
      ]
    },
    {
      "text": "[FINISH] Special Wave - Cataclysmic Showdown! 1",
      "topic": "TALK_DONE",
      "condition": {
        "and": [
          { "u_has_var": "dmbb_orb", "type": "specsecrocms1", "context": "in_combat", "value": "yes" },
          { "not": { "u_has_var": "dmbb_orb", "type": "specsecrocms1", "context": "finish", "value": "yes" } }
        ]
      },
      "effect": [
        { "mapgen_update": "dmbb_orb_arenacolor_remove", "om_terrain": "dmbb_arena_1", "om_special": "DMBB Arena" },
        { "mapgen_update": "dmbb_orb_arenacolor_remove", "om_terrain": "dmbb_arena_2", "om_special": "DMBB Arena" },
        { "mapgen_update": "dmbb_orb_arenacolor_remove", "om_terrain": "dmbb_arena_3", "om_special": "DMBB Arena" },
        { "mapgen_update": "dmbb_orb_arenacolor_remove", "om_terrain": "dmbb_arena_4", "om_special": "DMBB Arena" },
        { "mapgen_update": "dmbb_orb_arenacolor_remove", "om_terrain": "dmbb_arena_5", "om_special": "DMBB Arena" },
        { "mapgen_update": "dmbb_orb_arenacolor_remove", "om_terrain": "dmbb_arena_6", "om_special": "DMBB Arena" },
        { "mapgen_update": "dmbb_orb_arenacolor_remove", "om_terrain": "dmbb_arena_7", "om_special": "DMBB Arena" },
        { "mapgen_update": "dmbb_orb_arenacolor_remove", "om_terrain": "dmbb_arena_8", "om_special": "DMBB Arena" },
        { "mapgen_update": "dmbb_orb_arenacolor_remove", "om_terrain": "dmbb_arena_9", "om_special": "DMBB Arena" },
        { "u_buy_item": "dmbb_essence", "count": 300 },
        { "u_lose_var": "dmbb_orb", "type": "general", "context": "in_combat", "value": "yes" },
        { "u_add_var": "dmbb_orb", "type": "specsecrocms1", "context": "finish", "value": "yes" }
      ]
    }
  ]
}